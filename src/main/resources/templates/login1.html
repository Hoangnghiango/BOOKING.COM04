<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/fontawesome.min.css" integrity="sha512-SgaqKKxJDQ/tAUAAXzvxZz33rmn7leYDYfBP+YoMRSENhf3zJyx3SBASt/OfeQwBHA1nxMis7mM3EV/oYT6Fdw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <link rel="icon" type="image/x-icon" th:href="@{/images/logo.png}">
    <link rel="stylesheet" th:href="@{css/style.css}">
    <title>Login</title>
    <style>
        body {
            font-family: "Times New Roman";
        }
    </style>
</head>
<body>

<!--    <span style="color:lightgreen;margin:10px 0px;">-->
<!--          Logout Successfully!<br />-->
<!--    </span>-->
        <div th:if="${error}">
            <div class="alert alert-danger"></div>
        </div>
        <div th:if="${logout}">
            <div class="alert alert-success"></div>
        </div>
<!--    <th:block th:if="${message}">-->
<!--    <p th:text="${message}"-->
<!--       style="color:lightgreen;margin:10px 0px;"></p>-->
<!--</th:block>-->
    <div class="container-fluid" style="width: 50%">
        <div class="row">
            <div class="col-2"></div>
            <div class="col-8">
                <img class="round-pill" th:src="@{/images/booking_logo.jpeg}" alt="" style="width: 100%; height:250px">
                <div th:if = "${error}" class="alert alert-danger text-center">
                </div>
                <div th:if = "${logout}" class="alert alert-danger text-center">
                Logout!
                </div>
                <form action="#" th:action="@{/login}" th:object="${loginDTO}" method="post" >
                    <div style="width:100%">

                        <h1 class="h3 mb-3 font-weight-normal" style="font-family:'Times New Roman', Times, serif; text-align: center">Đăng nhập</h1>

                        <div class="d-flex flex-row align-items-center mb-4">
                            <div class="form-outline flex-fill mb-0">
                                    <label class="form-label" for="name">Username</label>
                                    <input type="text" id="name" class="form-control" placeholder="Username" name="username" th:field="*{username}" required autofocus>
                                    <span class="red" th:if="${#fields.hasErrors('username')}"
                                          th:errors="*{username}"></span>
                            </div>
                         </div>
                        <div class="d-flex flex-row align-items-center mb-4">
                            <div class="form-outline flex-fill mb-0">
                                <label class="form-label" for="password">Password</label>
                                <input type="password" id="password" class="form-control" placeholder="Password" name="password" th:field="*{password}" required>
                                <span class="red" th:if="${#fields.hasErrors('password')}"
                                      th:errors="*{password}"></span>
                            </div>
                            <div th:if ="${wrongPass}">
                                <p class="alert alert-danger" th:text = "${wrongPass}"></p>
                            </div>
                        </div>
                        <div th:if = "${logout}" style="color:red;text-align: center; font-family: 'Times New Roman';padding-top: 5px;padding-bottom: 5px"> </div>

                        <button class="btn btn-lg btn-primary w-100" type="submit">LOGIN</button>
                        <div class="text-center">
                            <a class="small" th:href="@{/register}">Register</a>
                        </div>

                        <p class="mt-5 mb-3 text-muted" style="text-align: center"> &copy; 2017-2018</p>

                </div>
            </form>
        </div>
        <div class="col-2"></div>
    </div>
</div>
<!--<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Spring Boot Validation Login Form Example</title>
<link rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
<link rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
<link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="login-form">
        <form action="#" th:action="@{/}" th:object="${loginForm}"
            method="post">
            <h2 class="text-center">Sign in</h2>
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-user"></i></span> <input
                        type="text" class="form-control" th:field="*{userName}"
                        placeholder="Username" />

                </div>
                <span class="red" th:if="${#fields.hasErrors('userName')}"
                    th:errors="*{userName}"></span>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-lock"></i></span> <input
                        type="password" class="form-control" th:field="*{password}"
                        placeholder="Password" />

                </div>
                <span class="red" th:if="${#fields.hasErrors('password')}"
                    th:errors="*{password}"></span>
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary login-btn btn-block">Sign
                    in</button>
            </div>
        </form>
    </div>
</body>
</html>-->
<!---->
<!--Vì Thymeleaf tích hợp tốt với Spring Security (khi được sử dụng cùng với Spring Boot),
bạn chỉ cần thêm đoạn code sau vào bất kỳ form nào và bạn sẽ nhận được token tự động được inject,
 từ session, vào form của bạn. Thậm chí tốt hơn, nếu bạn đang sử dụng “th: action” cho form của mình,
  Thymeleaf sẽ tự động inject field ẩn đó cho bạn mà không cần phải thực hiện theo cách thủ công.-->

<!--<form action="/transfer" method="post">  &lt;!&ndash; 1 &ndash;&gt;-->
<!--    <input type="text" name="amount"/>-->
<!--    <input type="text" name="routingNumber"/>-->
<!--    <input type="text" name="account"/>-->
<!--    <input type="submit" value="Transfer"/>-->
<!--    <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>-->
<!--</form>-->

<!--&lt;!&ndash; OR &ndash;&gt;-->

<!--<form th:action="/transfer" method="post">  &lt;!&ndash; 2 &ndash;&gt;-->
<!--    <input type="text" name="amount"/>-->
<!--    <input type="text" name="routingNumber"/>-->
<!--    <input type="text" name="account"/>-->
<!--    <input type="submit" value="Transfer"/>-->
<!--</form>-->

<!--@Controller
public class MyController {
@GetMaping("/login")
public String login(Model model, CsrfToken token) {
    // the token will be injected automatically
    return "/templates/login";
}
}-->
<!--<div sec:authorize="isAuthenticated()">
This content is only shown to authenticated users.
</div>
<div sec:authorize="hasRole('ROLE_ADMIN')">
This content is only shown to administrators.
</div>
<div sec:authorize="hasRole('ROLE_USER')">
This content is only shown to users.
</div>-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>

</body>
</html>